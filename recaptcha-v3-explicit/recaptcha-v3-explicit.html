<html>
  <head>
    <title>reCAPTCHA v3</title>

    <link href="../styles.css" rel="stylesheet">

    <script>
        var render1;
        var onloadCallback = function() {
          render1 = grecaptcha.render('grecaptcha_v3', {
            'sitekey' : '6Lcp3pkUAAAAAMgnmiES_TVUII3AhipGN_byF8iS',
            'size': 'invisible'
          });
          console.log()
        };
        function onSubmit() {
          console.log('token', token);
          console.log('token2', token2);
          alert("Token is: " + token);
        }
      </script>

    <script src="https://www.google.com/recaptcha/api.js?render=explicit&onload=onloadCallback"></script>

    <script>
      grecaptcha.ready(function() {
        grecaptcha.execute(render1, {action: 'pageload'}).then(function(token) {
          console.log('pageload', token);
        });
      });

      function doSomething() { 
        grecaptcha.ready(function() {
          grecaptcha.execute(render1, {action: 'something'}).then(function(token) {
            console.log('doSomething', token);
          });
        });
        
        alert("(wake me up inside)");
      }
    </script>
  </head>
  <body>
    <h1>Welcome to the reCAPTCHA V3 Demo!</h1>
    <div id="grecaptcha_v3"></div>
    <button onclick="doSomething()">wake me up</button>
    <div class="links">
      <a href="http://localhost:3000/recaptcha-v2-checkbox.html">V2 Checkbox Demo</a>
      <a href="http://localhost:3000/recaptcha-v2-checkbox-explicit.html">V2 Invisible Demo</a>
      <a href="http://localhost:3000/recaptcha-v2-invisible.html">V2 Checkbox Explicit Demo</a>
    </div>
  </body>
</html>